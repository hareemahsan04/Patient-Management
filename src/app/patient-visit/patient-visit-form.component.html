<app-header></app-header>

<div class="visit-form-wrapper">
  <div class="visit-form-header">
    <div>
      <p>Tuomas Veikko Kerola, Helsingin Sairaala, Kardiologian osasto</p>
    </div>
    <div class="date-time">
      <span>{{ currentDateTime | date: 'dd/MM/yyyy HH:mm' }}</span>
      <button type="button" class="edit-btn" (click)="editDateTime()"></button>
    </div>
  </div>

  <form [formGroup]="visitForm" (ngSubmit)="onSubmit()" class="visit-form-body">
    <div class="form-row">
      <label for="patientName">Potilaan koko nimi:</label>
      <input id="patientName" type="text" formControlName="patientName" />
    </div>

    <div class="form-row two-columns">
      <div>
        <label for="birthDate">Syntymäaika:</label>
        <input id="birthDate" type="date" formControlName="birthDate" />
      </div>
      <div>
        <label for="patientId">Potilastunnus:</label>
        <input id="patientId" type="text" formControlName="patientId" />
      </div>
    </div>

    <div class="form-row">
      <label for="visitType">Tapahtuman tyyppi:</label>
      <input id="visitType" type="text" formControlName="visitType" placeholder="Tapahtuman tyyppi..." />
    </div>

    <div class="form-row">
      <label for="visitReason">Käynnin syyt:</label>
      <input id="visitReason" type="text" formControlName="visitReason" placeholder="Käynnin syyt..." />
    </div>

    <div class="form-row status-row">
      <label>Tila:</label>
      <div class="status-options">
        <label><input type="radio" formControlName="status" value="Luonnos" /> Luonnos</label>
        <label><input type="radio" formControlName="status" value="Valmis" /> Valmis</label>
        <label><input type="radio" formControlName="status" value="Hyväksytty" /> Hyväksytty</label>
      </div>
    </div>

    <div class="form-row two-columns">
      <div>
        <label for="doctor">Lääkäri:</label>
      </div>
      <div>
        <input id="doctor" type="text" formControlName="doctor" readonly />
      </div>
    </div>
    
    <div class="form-row two-columns">
      <div>
        <label for="appointmentDateTime">Vastaanottoaika ja -päivämäärä:</label>
      </div>
      <div>
        <input id="appointmentDateTime" type="datetime-local" formControlName="appointmentDateTime" />
      </div>
    </div>

    <div class="form-row">
      <label for="additionalNotes">Lisähuomiot:</label>
      <textarea id="additionalNotes" rows="3" formControlName="additionalNotes"></textarea>
    </div>

    <div class="form-actions">
      <button class="btn-primary" type="submit" [disabled]="!visitForm.valid">Luo tapahtuma</button>
      <button class="btn-secondary" type="button" (click)="closeForm()">Sulje</button>
    </div>
  </form>
</div>